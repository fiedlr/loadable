/*! loadable v1.0.1 <github.com/fiedlr/loadable> | (c) 2015 Adam Fiedler | @license <opensource.org/licenses/MIT> */
!function($){var t={instances:0},e={toggleClass:"loading",position:"parent",container:!1,content:null,validate:function(t){if("function"==typeof jQuery.fn.validate)return t.valid();for(var e=0;e<t[0].elements.length;e++){var a=t[0].elements[e];if(("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)&&!a.checkValidity())return!1}return!0}},a={init:function(a){return a=$.extend({},e,a),"undefined"!=typeof t[a.toggleClass]&&(a.toggleClass+=t.instances),t[a.toggleClass]=a,this.data("toggleClass",a.toggleClass).loadable("refresh","this"===a.position?this:this.parent()),t.instances||$(document).bind("ajaxSend.loadable",function(e,a,n){n.loadingTrigger=$(".loadable:first").addClass(function(){var e=$(this).data("toggleClass");return $("span."+t[e].container,"this"===t[e].position?$(this):$(this).parent()).show(),e}).removeClass("loadable")}).bind("ajaxComplete.loadable",function(e,a,n){n.loadingTrigger.removeClass(function(){var e=$(this).data("toggleClass");return $("span."+t[e].container,"this"===t[e].position?$(this):$(this).parent()).hide(),e}).removeAttr("disabled")}),t.instances++,this},refresh:function(e){var a=this.selector;this.each(function(){$(this).data("toggleClass")||$(this).data("toggleClass",$(a).filter(":first").data("toggleClass"))});var n=$(this).data("toggleClass");if("undefined"==typeof n||"undefined"==typeof t[n]){if(this.length)return void $.error("loadable: Needs to initialize.")}else t[n].container===!1||$("span."+t[n].container,e).length||$("<span />").addClass(t[n].container).html(t[n].content).hide().appendTo(e);return $(this).on("click.loadable",function(){var e=$(this).closest("form");(!e.length||t[n].validate(e))&&($(this).attr("disabled",!0).addClass("loadable"),e.length&&e.submit())}),this},destroy:function(){return this.each(function(){$("span."+t[$(this).data("toggleClass")].container).remove()}).off("click.loadable").removeAttr("disabled").removeClass("loadable").data("toggleClass",""),this}};$.fn.loadable=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("loadable:"+t+" needs to be an object or a method."):a.init.apply(this,arguments)}}(jQuery);